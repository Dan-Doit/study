# 배열

Go역시 마찬가지로 배열을 사용할 수 있습니다.



## 배열

다음과 같은 형식으로 사용됩니다.

```go
var 변수명 [요소 개수]타입
```



예제를 한번 확인해 보도록 합시다.

```go
package main

import "fmt"

func main() {
	var t [5]float64 = [5]float64{24.0, 25.9, 22.5, 30.1, 27.3}

	for i := 0; i < 5; i++ {
		fmt.Println(t[i])
	}
}
// 결과값 : 24
// 결과값 : 25.9
// 결과값 : 22.5
// 결과값 : 30.1
// 결과값 : 27.3

```

float64 배열을 선언 후 중괄호 { } 를 이용하여 각 요소의 값을 초기화 합니다.

배열의 길이가 5이므로 5회 반복하는 for문을 사용합니다.



### 배열변수 선언 및 초기화



- Int 할당

  ```go
  var nums [5]int
  ```

  Int 타입 요소를 5개 갖는 배열 nums를 할당합니다.

  별도로 초깃값을 지정하지 않아 각 요솟값은 int타입의 기본값인 0으로 초기화 됩니다.

  ```go
  // 실제 이런식으로 값이 들어있습니다.
  nums[0] = 0
  nums[1] = 0
  nums[2] = 0
  nums[3] = 0
  nums[4] = 0
  ```

  

- String 할당

  ```go
  days := [3]string{"monday", "tuesday", "wednesday"}
  ```

  string 타입 요소를 3개 갖는 배열 days를 할당 하였습니다.

  ```go
  // 실제 이런식으로 값이 들어있습니다.
  days[0] = "monday"
  days[1] = "tuesday"
  days[2] = "wednesday"
  ```

  

- Float 할당

  ```go
  var temp [5]float64 = [5]float64{24.3, 35.1}
  ```

  Float64 타입 요소를 갖는 배열 temp를 할당합니다.

  ```go
  // 실제 이런식으로 값이 들어있습니다.
  temp[0] = 24.3
  temp[1] = 35.1
  temp[2] = 0.0
  temp[3] = 0.0
  temp[4] = 0.0
  ```



- 인덱스 별 할당

  ```go
  var s = [5]int{1:10, 3:30}
  ```

  Int 타입 요소를 5개 갖는 배열 s를 할당합니다.

  인덱스가 1인 요솟값을 10, 3인 요솟값을 30으로 초기화 했습니다.

  ```go
  // 실제 이런식으로 값이 들어있습니다.
  s[0] = 0
  s[1] = 10
  s[2] = 0
  s[3] = 30
  s[4] = 0
  ```



- 요소 개수 생략

  ```go
  x := [...]int{10, 20, 30}
  ```

  요소의 갯수를 생략하여 초기화 된 값에 맞도록 설정이 되었습니다. 

  ```go
  // 실제 이런식으로 값이 들어있습니다.
  x[0] = 10
  x[1] = 20
  x[2] = 30
  ```

  

### 배열 선언시 갯수는 항상 상수

배열 선언시 개수는 항상 상수로 써야합니다.

변숫값을 배열 개수로 사용할 수 없습니다.

변수로 배열 길이를 지정해 오류가 발생하는 예제를 한번 살펴봅시다.

```go
package main

const Y int = 3

func main() {
	x := 5
	a := [x]int{1, 2, 3, 4, 5} // Error : 잘못된 배열 바운드 'x'. 상수식이어야 합니다

	b := [Y]int{1, 2, 3}
	
	var c [10]int
}
```





### 배열 요소 읽고 쓰기

배열 요소에 접근하여 값을 읽고 쓰려면 배열 변수에 대괄호 [ ]를 쓰고 그 사이에 접근하고자 하는 요소의 인덱스를 적습니다.

```go
package main

import "fmt"

const Y int = 3

func main() {
	nums := [...]int{10, 20, 30, 40, 50}

	nums[2] = 300
	for i := 0; i < len(nums); i++ {
		fmt.Println(nums[i])
	}
}

// 결과값
// 10
// 20
// 300
// 40
// 50
```





### range 순회

for 반복문에서 range 키워드를 이용하면 배열을 순회합니다.

```go
package main

import "fmt"

const Y int = 3

func main() {
	nums := [...]int{10, 20, 30, 40, 50}

	nums[2] = 300
	for index, v := range nums {
		fmt.Println(index, v)
	}
}

// 결과값
// 0 10
// 1 20
// 2 300
// 3 40
// 4 50
```



## 배열은 연속된 메모리

컴퓨터가 배열을 어떻게 처리하는지 자세히 알아보겠습니다.

컴퓨터는 배열의 시작 주소에 `인덱스 x 타입크기` 를 더해서 찾아갑니다.

>**요소위치 = 배열 시작 주소 + ( 인덱스 x 타입크기 )**
>
>예를 들어 **a 배열의 시작주소가 100번지**라면 `a[3]` 의 주소는 `int32` 타입 크기는 `4바이트` 이므로
>
>100 ( 3 * 4 ) = 112 번지가 됩니다.

배열의 핵심은 다음 두가지 입니다.

- 배열은 연속된 메모리이다.
- 컴퓨터는 인덱스와 타입 크기를 사용해서 메모리 주소를 찾는다.



### 배열 복사

대입 연산자를 사용하면 배열 대 배열 복사를 할 수 있습니다.

Go 언어에서는 대입 연산자는 우변의 값을 좌변의 메모리 공간에 복사합니다.

이때 복사되는 크기는 타입 크기와 같습니다.

배열의 대입 역시 마찬가지입니다.

```go
package main

import "fmt"

const Y int = 3

func main() {
	a := [5]int{1, 2, 3, 4, 5}
	b := [5]int{500, 400, 300, 200, 100}

	for i, v := range a {
		fmt.Printf("a[%d] = %d\n", i, v)
	}

	fmt.Println() // 개행

	for i, v := range b {
		fmt.Printf("b[%d] = %d\n", i, v)
	}

	b = a         // a를 b에 대입
	fmt.Println() // 개행
	for i, v := range b {
		fmt.Printf("b[%d] = %d\n", i, v)
	}
}

// 결과
a[0] = 1
a[1] = 2
a[2] = 3
a[3] = 4
a[4] = 5

b[0] = 500
b[1] = 400
b[2] = 300
b[3] = 200
b[4] = 100

b[0] = 1
b[1] = 2
b[2] = 3
b[3] = 4
b[4] = 5
```



반대로 타입또는 배열의 길이가 다르면 에러가 발생합니다.

Go 언어에서 모든 연산자의 각 항의 타입은 항상 같아야합니다.

대입 연산자도 마찬가지입니다.

```go
	a := [5]int{1, 2, 3, 4, 5}
	b := [6]int{500, 400, 300, 200, 100, 200}

 	b = a  // 'a'(타입 [5]int)을(를) 타입 [6]int(으)로 사용할 수 없습니다.
```

```go
	a := [5]int{1, 2, 3, 4, 5}
	b := [5]float32{500, 400, 300, 200, 100}
	
 	b = a	 // 'a'(타입 [5]int)을(를) 타입 [5]float32(으)로 사용할 수 없습니다
```





### 다중 배열

다중 배열은 중첩된 배열을 말합니다.

이중 배열 삼중 배열처럼 여러번 중첩해서 사용할 수 있습니다.

한번 이중 배열을 초기화 하겠습니다.

```go
package main

import "fmt"

const Y int = 3

func main() {
	var a = [2][3]int{
		{1, 2, 3},
		{4, 5, 6},
	}

	for _, arr := range a {
		for _, v := range arr {
			fmt.Print(v, " ")
		}
	}
}

// 결과값 : 1 2 3 4 5 6 %   
```





### 배열의 크기

배열이 선언되면 컴퓨터는 배열의 모든 요소를 연속되게 저장할 수 있는 메모리 공간을 할당합니다.

예를 들어 [5]int에는 메모리 공간이 40바이트 공간이 필요합니다.

>int 타입 크기는 8바이트 입니다.
>
>8바이트 X 5(배열의크기) = 40 바이트

`[2][5]int` 와 같은 이중배열의 크기는 `[2]([5]int)`라고 볼수 있습니다. 즉 80바이트의 메로리 공간이 필요합니다.

>2(배열의 크기) X (8바이트 X 5(배열의크기)) = 80 바이트