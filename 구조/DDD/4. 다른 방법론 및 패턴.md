## 다른 방법론 및 패턴과의 관계





## 복잡성

아키텍처를 채택하고 고민하는데에는 바로 이 복잡성을 간소화하기 위한 고민들이다.

다음 두가지 용어를 기억할 필요가 있다.

- 로컬 복잡성

  각각의 개별 마이크로서비스의 복잡성을 가리킨다.

  서비스의 구현에 따라 달라진다.

- 글로벌 복잡성

  전체 시스템의 복잡성을 가리킨다.

  서비스간의 상호작용에 따라 달라진다.

이둘의 복잡성을 줄이기 위한 노력 또한 존재한다.



**복잡성을 줄이기 위한 방법**

글로벌 복잡성을 줄이기위한 방법은 놀랍도록 간단한데 단지 시스템 구성요소 간의 상호작용을 없애기만 하면된다.

즉, 모든 기능을 모놀리식 서비스로 구현하는 것이다.

이 전략은 특정 상황에서만 효과적일수 있다. 그리고 때에 따라 무시무시한 진흙덩어리가 될 가능성이 있다.

또한 로컬 복잡성만 최적화하고 시스템 글로벌 복잡성을 무시하면 더 큰 진흙덩어리를 만날수 있을것이다.

즉, 적절한 마이크로서비스 기반 시스템을 설계하려면 글로벌 복잡성과 로컬 복잡성 모두를 최적화 해야한다.



### 궁극적인 목적

소프트웨어의 궁극적인 목적은 누구나 다 다른생각을 하고있다.

누구는 빠르게 변화하는 비지니스의 빠르게 대응할 수있는 기민함을 들수있다.

누구는 이미 안정화된 비지니스의 유지와 안정감을 들수있다.

좋은 서비스는 좋은 소프트웨어에서 비롯된다.

우리는 복잡성에 따라서 얼마나 효율적으로 소프트웨어가 이 비지니스를 소화할수 있는지를 결정해야한다.





## 마이크로 서비스

마이크로 서비스의 정의는 서비스가 자신의 퍼블릭 인터페이스인 마이크로 프런트 도어에 의해 정의되는 서비스다.

마이크로서비스 아키텍처의 목표는 유연한 시스템을 만드는 것이다.

어쩌면 다음과 같은 서비스에는 맞지 않을지도 모른다.

- 함께 작동하는 연동된 것 또는 디바이스
- 특정 목적을 위해 함께 사용되는 컴퓨터 장비 및 프로그램



보통 마이크로 서비스와 함께 콘웨이법칙이라는 가설을 함께 제시한다.

>소프트웨어의 구조는 그 소프트웨어를 개발한 조직의 커뮤니케이션 구조를 따라가야한다.
>
>*맬빈 콘웨이 (Melvin Conway)*



마이크로 서비스는 잘 조직화되어있는 서비스에 매우 훌륭하게 이상적으로 어울린다.

반면 조직의 문화가 자리잡지 않은곳에는 어울리지 않는다.

다음과 같은 장점이있다.

- 조직 부합성

  시스템을 조직 구조에 맞게 정렬 할 수 있다.

- 회복성

  서비스의 장애가 시스템 전체 장애로 전파되지 않는다.

- 확장성

  서비스를 독립적으로 확장 가능하다.

- 배포 용이성

  서비스를 독립적으로 배포 가능하다.

- 대체 가능성

- 조합성

- 기술 이기종성

  문제 해결에 특화된 다양한 기술을 도입할 수 있다.





## 모노리틱 서비스

하나의 테이블을 많은 서비스에서 공유될경우 서비스마다 중복적인 코드와 안정적이지 못한 코드가 발생한다.

하나의 기능을 수정하려면 번거롭게 모든 서비스를 바꿔주고 코드를 따라가기에는 너무나 복잡해진다.

이는 비지니스 요구사항이 왔을때 즉각적으로 대처가 불가능하고 개발기간 및 테스트 기간도 늘어나게된다.

또한 하나의 기능을 배포하려면 많은 서비스를 동시에 배포해야한다.

반면 모노리틱이 가진 단점또한 명확하다.

- 예상치 못한 결합

  결합되지 않은 코드와 반영되지 않은 코드의 결합이 발생할 수 있다.

- 높은 테스트 비용

  예상치 못한 결합을 대비하기위해 많은 테스트가 필요하다.

- 늦은 출시 사이클

  위의 문제로 인한 더 늦은 출시가 됨

- 부족한 장애 내성

- 단일 확장성



장점또한 명확하다.

- 코드 집합성

  단일 프로젝트에 모든 코드가 모여있다.

- 구조 간결화

  시스템 구조가 간결하고, 빠르게 구축가능하다.

- 파이프라인 간결화

  테스트 및 배포 파이프라인이 간단하다.

- 구축과 운용 간결화

  인프라 스트럭처 구축과 운용이 간결하다.