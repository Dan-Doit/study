## 계층형 아키텍처

가장 일반적인 아키텍처 패턴중 하나로써 코드베이스를 수평으로 조직하고

각 계층은 사용자와 상호작용, 비지니스 로직의 구현, 데이터의 저장과 같은 기술적 관심사중 하나를 다룬다.

이를 체계적으로 표현하면 다음 3가지로 나눌수 있다.

- 프레젠테이션 계층 : 사용자와 상호작용을 하기 위한 프로그램의 사용자 인터페이스 구현
- 비지니스 로직 계층 : 프로그램의 비즈니스 로직을 구현하고 묶는 것을 담당한다.
- 데이터 접근 계층 : 데이터 베이스의 접근을 담당한다.



### 배경

로직과 데이터 접근 계층 간에는 의존성이 있다.

비지니스 로직이 트렌젝션 스크립트 또는 액티브 레코드 패턴을 사용하여 구현된 시스템에 계층형 아키텍처 패턴이 적합하다.

>액티브 레코드 패턴
>
>*마틴 파울러의 기업용 애플리케이션 아키텍처에 따르면 이 패턴은 기본 데이터베이스 수정 패턴(CUD)에 어느정도 일치해야한다.*



### 부적합성

도메인 모델을 구현하는 데 계층형 아키텍처 패턴을 적용하는 것은 어렵다.

도메인 모델에서는 비즈니스 엔티티(애그리거트와 벨류오브젝트가 하부의 인프라스트럭처에 대해 의존성이 없어야하고 그것을 몰라야 하기 때문이다.



### 장점

- 동일한 서비스 계층을 여러 퍼블릭 인터페이스에서 재 사용할수 있다.

- 모든 관련 메서드를 한곳에 모으면 모듈화가 개선된다.

- 프레젠테이션 계층과 비지니스 로직 계층의 결합도를 낮춰준다.

- 비지니스 기능을 테스트하기 쉬워진다.